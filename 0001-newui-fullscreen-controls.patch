From 26e3a95b35095e73f790134c96150290d7bcb8d1 Mon Sep 17 00:00:00 2001
From: Kevin Lange <kevin.lange@dakko.us>
Date: Tue, 26 Apr 2011 17:20:46 -0500
Subject: [PATCH] [newui] fullscreen controls

---
 index2.html             |   11 ++++++++++-
 www-data/acoustics2.css |   37 +++++++++++++++++++++++++++++++++++++
 www-data/acoustics2.js  |   17 +++++++++++++++--
 3 files changed, 62 insertions(+), 3 deletions(-)

diff --git a/index2.html b/index2.html
index cffa89b..9c3ef7f 100644
--- a/index2.html
+++ b/index2.html
@@ -182,7 +182,7 @@
 					</div>
 					<div id="controls-bottom">
 						<a href="javascript:controlVolumeDown()" id="controls-volume-down" class="control-button"><img src="www-data/images/ui2/buttons/volume-down.png" /></a>
-						<a href="#" id="controls-volume" class="control-button">-</a>
+						<a href="#" id="controls-volume" class="control-button disp-volume">-</a>
 						<a href="javascript:controlVolumeUp()" id="controls-volume-up" class="control-button"><img src="www-data/images/ui2/buttons/volume-up.png" /></a>
 					</div>
 				</div>
@@ -260,6 +260,15 @@
 					<span class="fullscreen-span" id="fullscreen-album">Please enable it.</span><br />
 				</div>
 			</div>
+			<div id="fullscreen-controls">
+				<div id="fullscreen-control-spacing">&nbsp;</div>
+				<a href="javascript:controlStop()" id="fs-controls-stop" class="control-button"><img src="www-data/images/ui2/buttons/stop.png" /></a>
+				<a href="javascript:controlPlayPause()" id="fs-controls-play-pause" class="control-button"><img src="www-data/images/ui2/buttons/play.png" /></a>
+				<a href="javascript:controlNext()" id="fs-controls-next" class="control-button"><img src="www-data/images/ui2/buttons/next.png" /></a>
+				<a href="javascript:controlVolumeDown()" id="fs-controls-volume-down" class="control-button"><img src="www-data/images/ui2/buttons/volume-down.png" /></a>
+				<a href="#" id="fs-controls-volume" class="control-button disp-volume">-</a>
+				<a href="javascript:controlVolumeUp()" id="fs-controls-volume-up" class="control-button"><img src="www-data/images/ui2/buttons/volume-up.png" /></a>
+			</div>
 			<div id="fullscreen-close">
 				<a href="javascript:unfullscreen()" class="control-button button-link">Close</a>
 			</div>
diff --git a/www-data/acoustics2.css b/www-data/acoustics2.css
index f67f60e..1752abc 100644
--- a/www-data/acoustics2.css
+++ b/www-data/acoustics2.css
@@ -879,3 +879,40 @@ a img {
 		padding-right: 4px;
 		padding-bottom: 4px;
 	}
+	#fullscreen-controls {
+		position: absolute;
+		left: 50%;
+		width: 400px;
+		margin-left: -200px;
+		color: #FFF;
+		height: 60px;
+		bottom: -50px;
+		text-align: center;
+	}
+		#fullscreen-control-spacing {
+			width: 400px;
+			height: 10px;
+		}
+		#fullscreen-controls a {
+			display: block;
+			height: 40px;
+			float: left;
+			width: 63px;
+			text-align: center;
+			padding-top: 8px;
+			outline: none !important;
+			text-decoration: none;
+			color: #fff;
+			font-weight: bold;
+			font-size: 28px;
+		}
+		#fs-controls-stop {
+			-webkit-border-top-left-radius: 15px;
+			-moz-border-radius-topleft: 15px;
+			border-top-left-radius: 15px;
+		}
+		#fs-controls-volume-up {
+			-webkit-border-top-right-radius: 15px;
+			-moz-border-radius-topright: 15px;
+			border-top-right-radius: 15px;
+		}
diff --git a/www-data/acoustics2.js b/www-data/acoustics2.js
index 17f16b8..1b6b7df 100644
--- a/www-data/acoustics2.js
+++ b/www-data/acoustics2.js
@@ -10,9 +10,22 @@ var queueLocked = false;
 var queueHidden = false;
 var queueShouldBeHidden = false;
 var nowPlaying = {}
+var fsControlsHidden = true;
 
 $(document).ready(function() {
 	unfullscreen();
+	$("#fullscreen-controls").hover(function() {
+		if (fsControlsHidden) {
+			fsControlsHidden = false;
+			$(this).animate({bottom: 0, opacity: 1.0}, 'fast');
+		}
+	}, function() {
+		if (!fsControlsHidden) {
+			fsControlsHidden = true;
+			$(this).animate({bottom: -50, opacity: 0.1}, 'fast');
+		}
+	});
+
 
 	$("#queue-list").sortable({
 		placeholder: "queue-song-placeholder",
@@ -372,9 +385,9 @@ function handlePlayerStateRequest(json) {
 	// volume
 	if (json.player && json.player.volume != undefined) {
 		volume = parseInt(json.player.volume);
-		$("#controls-volume").html((volume / 10) + 1);
+		$(".disp-volume").html((volume / 10) + 1);
 	} else {
-		$("#controls-volume").html("-");
+		$(".disp-volume").html("-");
 	}
 
 	// user
-- 
1.7.4.1

